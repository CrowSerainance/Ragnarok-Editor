<Window x:Class="RoDbEditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RoDbEditor"
        mc:Ignorable="d"
        Title="RoDbEditor - Asset Browser" Height="600" Width="1000"
        MinHeight="450" MinWidth="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Menu -->
        <Menu Grid.Row="0">
            <MenuItem Header="_File">
                <MenuItem Header="Open GRF..." Click="MenuOpenGrf_Click"/>
                <MenuItem Header="Open _data folder..." Click="MenuOpenDataFolder_Click"/>
                <Separator/>
                <MenuItem Header="E_xit" Click="MenuExit_Click"/>
            </MenuItem>
            <MenuItem Header="_View">
                <MenuItem Header="Asset Browser" IsChecked="True" IsCheckable="True"/>
            </MenuItem>
            <MenuItem Header="_Help">
                <MenuItem Header="About RoDbEditor"/>
            </MenuItem>
        </Menu>

        <!-- Tabs: ITEMS, MONSTERS, NPCs, MAPS, QUESTS -->
        <TabControl x:Name="CategoryTabs" Grid.Row="1" Margin="8,4" SelectedIndex="0" SelectionChanged="CategoryTabs_SelectionChanged">
            <TabItem Header="ITEMS"/>
            <TabItem Header="MONSTERS"/>
            <TabItem Header="NPCs"/>
            <TabItem Header="MAPS"/>
            <TabItem Header="QUESTS"/>
        </TabControl>

        <!-- Search + List + Details -->
        <Grid Grid.Row="2" Margin="8" x:Name="MainContentGrid">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" MinWidth="200"/>
                <ColumnDefinition Width="4"/>
                <ColumnDefinition Width="2*" MinWidth="280"/>
            </Grid.ColumnDefinitions>

            <!-- Left: Search + Current list -->
            <StackPanel Grid.Column="0">
                <TextBlock Text="SEARCH:" Margin="0,0,0,4"/>
                <Grid Margin="0,0,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="SearchBox" Grid.Column="0" Margin="0,0,4,0" Padding="4,2"
                             VerticalContentAlignment="Center" KeyDown="SearchBox_KeyDown"/>
                    <Button x:Name="TypeFilterButton" Grid.Column="1" Content="TYPE ▼" Margin="0,0,4,0" Padding="8,2"/>
                    <Button x:Name="SearchButton" Grid.Column="2" Content="SEARCH" Padding="8,2" Click="SearchButton_Click"/>
                </Grid>
                <TextBlock x:Name="CurrentListLabel" Text="CURRENT LIST: ITEMS" FontWeight="SemiBold" Margin="0,0,0,4"/>
                <ListBox x:Name="AssetListBox" DisplayMemberPath="DisplayName" SelectedValuePath="Path"
                         SelectionChanged="AssetListBox_SelectionChanged" MinHeight="200"/>
            </StackPanel>

            <GridSplitter Grid.Column="1" Width="4" HorizontalAlignment="Stretch" Background="#ccc"/>

            <!-- Right: Details panel -->
            <Border Grid.Column="2" BorderBrush="#ccc" BorderThickness="1" Padding="12" CornerRadius="4">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="DETAILS PANEL" FontWeight="SemiBold" Margin="0,0,0,8"/>
                        <!-- Asset preview (icon / spr frame / map) -->
                        <Border x:Name="PreviewBorder" Background="#2a2a2a" CornerRadius="6" MinHeight="120" Margin="0,0,0,12">
                            <Image x:Name="PreviewImage" Stretch="Uniform" Margin="8"/>
                        </Border>
                        <TextBlock x:Name="DetailName" Text="NAME: (select an asset)" Margin="0,0,0,4"/>
                        <TextBlock x:Name="DetailId" Text="ID: —" Margin="0,0,0,4"/>
                        <TextBlock x:Name="DetailType" Text="TYPE: —" Margin="0,0,0,4"/>
                        <TextBlock Text="DESCRIPTION:" Margin="0,8,0,4"/>
                        <TextBox x:Name="DetailDescription" TextWrapping="Wrap" AcceptsReturn="True" MinHeight="60" IsReadOnly="True" Margin="0,0,0,8"/>
                        <TextBlock Text="SCRIPT" Margin="0,4,0,4"/>
                        <TextBox x:Name="DetailScript" Text="{},{},{}" TextWrapping="Wrap" AcceptsReturn="True" MinHeight="60" Margin="0,0,0,12"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button x:Name="SaveButton" Content="SAVE" Padding="12,6" Margin="0,0,8,0" Click="SaveButton_Click"/>
                            <Button Content="EXPORT" Padding="12,6" Margin="0,0,8,0"/>
                            <Button Content="CANCEL" Padding="12,6" Click="CancelButton_Click"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>
    </Grid>
</Window>
